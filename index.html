<!DOCTYPE html>

<html>
<head>
	<link rel="stylesheet" href="css/reset.css" />
	<link rel="stylesheet" href="css/text.css" />
	<link rel="stylesheet" href="css/960.css" />
	<link rel="stylesheet" href="css/demo.css" />
    <script type="text/javascript" src="js/dygraph-combined.js"></script>
	<script type="text/javascript" src="js/Square.js"></script>
	<script type="text/javascript" src="js/Grid.js"></script>
	<script type="text/javascript" src="js/Agent.js"></script>
	<script type="text/javascript" src="js/Main.js"></script>
	<script type="text/javascript" src="js/Test.js"></script>
	<script type="text/javascript" src="js/Payoffs.js"></script>
	<script type="text/javascript" src="js/Graphs.js"></script>
</head>

<body onload="init();">
<div class="container_12">
	<div class="grid_7">	
		<p>
		<div class="sim_grid">
		<canvas  id="canvas" width="540" height="540">
			You shouldn't be seeing this :(
			It probably means that your browser does not support html5.
		</canvas>
		</div>
		</p>
	</div>

<!-- Begin right side  input block-->
<p>
	<div class="grid_1">
		<p><label class="input_label"id="updateLabel">Update:</label></p>
	</div>	
	<div class="grid_2" 
	title="Agent update method: in async mode, each agent performs all of its actions at once, in sync mode, agents perform one kind of action at once">
		<p>
			<select class="dropdown_input" id="updateMode">
				<option value="Asynchronous">Asynchronous</option>
				<option value="Synchronous">Synchronous</option>
			</select>
		</p>
	</div>
	<div class="grid_1">
		<p><label class="input_label" id="gridSideLabel" for="gridSide">Grid size:</label></p>
	</div>
	<div class="grid_1" title="The size of the grid in squares, the created grid will hold nxn positions">
		<p><input class="numeric_input" id="gridSide" type ="number" min=0 value=30 maxlength="3"></p>
	</div>
	<div class="grid_1">
		<p><label class="input_label" id="nAgentsLabel" for="nAgents"> Agents:</label>
		</p>
	</div>
	<div class="grid_2" title="The initial amount of agents present on the grid. can't be more than grid side X grid side">
		<p><input class="numeric_input" id="nAgents" type="number" min=0 value=100 ></p>
	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="defectorsLabel" for="defectors">Defectors</label></p>
  	</div>
  	<div class="grid_1">
  		<p><input class="numeric_input" id="defectors" type="number" min=0 step=0.01 value=0.5 ></p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="budgetLabel" for="budget">Budget.</label></p>
  	</div>
  	<div class="grid_2">
  		<p><input class="numeric_input" id="budget" type="number"min=0 value=6 ></p>
  	</div>	
  	 <div class="grid_1">
  	 	<p><label class="input_label" id="visionLabel" for="vision">Vision.</label></p>
  	</div>	
  	<div class="grid_1">
  	  	<p><input class="numeric_input" id="vision" type="number"min=0 value=1 ></p>
  	</div>
	<div class="grid_1">
		<p><label class="input_label" id="repLabel" for="repThreshold">Reprod.</label></p>
  	</div>
  	<div class="grid_2">
  	  	<p><input class="numeric_input" id="repThreshold" type="number"min=0 value=10 ></p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="dieLabel" for = "dieThreshold">Death.</label></p>
  	</div>
  	<div class="grid_1">
  		<p><input class="numeric_input" id="dieThreshold" type="number"min=0 value=0 ></p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="neighbourLabel" for="neighbourhood"> Neighbourhood</label></p>
  	</div>
  	<div class="grid_2">
  		<p>
  			<select id="neighbourhood">
				<option value="Von Neumann"> Von Neumann</option>
				<option value="Moore"> Moore</option>
			</select>
		</p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="childLabel" for="childLoss">Child:</label></p>
  	</div>
  	<div class="grid_1">
  		<p><input class="numeric_input" id="childLoss" type="number"min=0 value=6 ></p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="minLifeLabel" for="minLife">Min Age</label></p>
  	</div>
  	<div class="grid_2">
  		<p><input class="numeric_input" id="minLife" type = "number" min=1 value=70 ></p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="maxLifeLabel" for="maxLife">Max Age</label></p>
  	</div>
  	<div class="grid_1">
  		<p><input class="numeric_input" id="maxLife" type = "number" min=1 value=100 ></p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="mutationLabel" for="mutation">Mutation.</label></p>
  	</div>
  	<div class="grid_2">
  		<p><input class="numeric_input" id="mutation" type = "number" min=0 max=1 step=0.01 value=0.1 ></p>
  	</div>
  	<div class="grid_1">
  		<p><label class="input_label" id="metabolismLabel" for="metabolism">Metabolism.</label></p>
  	</div>
  	<div class="grid_1">
  		<p><input class="numeric_input" id="metabolism" type = "number" min=0 step=1 value=0 ></p>
  	</div>

  	<div class="grid_5"></div>
  	<div class="grid_1">
  		<p><label class="input_label">Action order.</label></p>
  	</div>
  	<div class="grid_1">
  		<p>
  			<select id="Play">
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
			</select>
			<label class="input_label" id="playLabel">Play</label>
  		</p>
  	</div>
  	 <div class="grid_1">
  		<p>
  			<select id="Move">
				<option value="2">2</option>
				<option value="1">1</option>
				<option value="3">3</option>
				<option value="4">4</option>
			</select>
			<label class="input_label" id="moveLabel">Move</label>
  		</p>
  	</div>
  	<div class="grid_1">
  		<p>
  			<select id="Reproduce">
				<option value="3">3</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="4">4</option>
			</select>
			<label class="input_label" id="repPosLabel">Reproduce</label>
  		</p>
  	</div>
  	<div class="grid_1">
  		<p>
  			<select id="Die">
				<option value="4">4</option>
				<option value="1">1</option>
				<option value="3">3</option>
				<option value="2">2</option>
			</select>
			<label class="input_label" id="diePosLabel">Die</label>
  		</p>
  	</div>

  	<div class="grid_5"> 
  		<p>
			<select id="payoffType" onclick="changePayoffInput();">
				<option value="fixed">Fixed</option>
				<option value="random">Random Uniform</option>
				<option value="normal">Random Normal</option>
			</select>
			<label class="input_label" id="payoffLabel" for="payoffType"> Type of payoff function.</label>
		</p>
  	</div>
  	<div id="fixedInput" style="display:block">
		<div class="grid_1"><p>	<input class="numeric_input" id="fT" type="number" value=6 ></p></div>
		<div class="grid_1"><p> <label class="input_label" for="fT"> T</label></p></div>
		<div class="grid_1"><p><input class="numeric_input" id="fR" type="number" value=5 ></p></div>
		<div class="grid_1"><p><label class="input_label" for="fR"> R</label></p></div>
		<div class="grid_5"></div>
		<div class="grid_1"><p><input class="numeric_input" id="fP" type="number" value=-5 ></p> </div>
		<div class="grid_1"><p><label class="input_label" for="fP"> P</label></p></div>
		<div class="grid_1"><p><input class="numeric_input"  id="fS" type="number" value=-6 ></p> </div>
		<div class="grid_1"><p><label class="input_label" for="fS"> S</label></p></div>
	</div>
	<div id="randomInput" style="display:none">
		<div class="grid_1"><p><input class="numeric_input" id="rMinT" type="number" value=2 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="rMinT"> Min T</label></p></div>
		<div class="grid_1"><p><input class="numeric_input" id="rMaxT" type="number" value=6 > </p></div>
		<div class="grid_1"><p><label class="input_label" for="rMaxT"> Max T</label></p></div>
		<div class="grid_5"></div>
		<div class="grid_1"><p><input class="numeric_input" id="rMinR" type="number" value=1 ></p></div>
		<div class="grid_1"><p><label class="input_label" for="rMinR"> Min R</label></p></div>
		<div class="grid_1"><p><input class="numeric_input" id="rMaxR" type="number" value=5 s></p></div> 
		<div class="grid_1"><p><label class="input_label" for="rMaxR"> Max R</label></p></div>
		<div class="grid_5"></div>
		<div class="grid_1"><p><input class="numeric_input" id="rMinP" type="number" value=-1 > </p></div>
		<div class="grid_1"><p><label class="input_label" for="rMinP"> Min P</label></p></div>
		<div class="grid_1"><p><input class="numeric_input" id="rMaxP" type="number" value=-5 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="rMaxP"> Max P</label></p></div>
		<div class="grid_5"></div>
		<div class="grid_1"><p><input class="numeric_input" id="rMinS" type="number" value=-2 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="rMinS"> Min S</label></p></div>
		<div class="grid_1"><p><input class="numeric_input" id="rMaxS" type="number" value=-6 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="rMaxS"> Max S</label></p></div>
	</div>

	<div id="normalInput" style="display:none">
		<div class="grid_1"><p><input class="numeric_input" id="nMuT" type="number" value=3 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="nMuT"> Mean T</label></p></div> 
		<div class="grid_1"><p><input class="numeric_input" id="nSdT" type="number" value=2 ></p></div>  
		<div class="grid_1"><p><label class="input_label" for="nSdT"> Std  T</label></p></div> 
		<div class="grid_5"></div>
		<div class="grid_1"><p><input class="numeric_input" id="nMuR" type="number" value=2 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="nMuR"> Mean R</label></p></div> 
		<div class="grid_1"><p><input class="numeric_input" id="nSdR" type="number" value=2 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="nSdR"> Std R</label></p></div> 
		<div class="grid_5"></div>
		<div class="grid_1"><p><input class="numeric_input" id="nMuP" type="number" value=-2 ></p></div> 
		<div class="grid_1"><p><label class="input_label" for="nMuP"> Mean P</label></p></div> 
		<div class="grid_1"><p><input class="numeric_input" id="nSdP" type="number" value=2 ></p></div>  
		<div class="grid_1"><p><label class="input_label" for="nSdP"> Std P</label></p></div> 
		<div class="grid_5"></div>
		<div class="grid_1"><p><input class="numeric_input"id="nMuS" type="number" value=-3 ></p></div>  
		<div class="grid_1"><p><label class="input_label" for="nMuS"> Mean S</label></p></div> 
		<div class="grid_1"><p><input class="numeric_input" id="nSdS" type="number" value=2 ></p></div>  
		<div class="grid_1"><p><label class="input_label" for="nSdS"> Std S</label></p></div> 
	</div>
</p>
<!-- End right side input block  -->

<!-- Begin below graph input block-->
	<div class="clear"></div>
	<div class="grid_1">
		<p>
		<button onclick="runSimulation(100,10,0,6)" id="Run">
				Run 
		</button>
		</p>
	</div>
	<div class="grid_1">
		<p>
		<button onclick="stopSimulation()" id="Stop">
				Stop 
		</button>
		</p>
	</div>
	<div class="grid_1">
		<p>
		<button onclick="resetSimulation()" id="Reset">
				Reset 
		</button>
		</p>
	</div>
	<div class="grid_4">
		<p><label class="input_label" id="speedLabel" for="speed"> Speed</label>
		<input id="speed" type="range" min="0" max="1" step="0.01" style="width:280px">
		</p>
	</div>
	<div class="clear"></div>
	<div class="grid_1">
		<p><label class="input_label" id="maxRoundsLabel" for="maxRounds">Rounds: </label></p>
	</div>
	<div class="grid_2">
  		<p><input class="numeric_input" id="maxRounds" type="number" value=100 > </p>
	</div>
<!-- End below graph input block  -->

<!-- Begin Graph input block-->
	<div class="clear"></div>
	<div class="grid_6">
	<p>
		<select id="firstGraphContent">
			<option value="coop/def">Cooperations and Defections each round</option>
			<option value="nCoop/nDef">Amount of cooperators and defectors on grid</option>
			<option value="avgPayoff">Average payoff</option>
			<option value="deathRatio">Fraction of agents that died</option>
			<option value="repRatio">Fraction of agents that reproduced</option>
			<option value="moveRatio">Fraction of agents that moved</option>
			<option value="moves"> Number of agents that moved</option>
			<option value="reps"> Number of agents that reproduced</option>
			<option value="deaths"> Number of agents that died</option>
			<option value="age"> Average agent age</option>
			<option value="budget">Average agent budget</option>
		</select>
	</p>
	</div>
	<div class="grid_6">
		<p>
		<select id="secondGraphContent">
			<option value="coop/def">Cooperations and Defections each round</option>
			<option value="nCoop/nDef">Amount of cooperators and defectors on grid</option>
			<option value="avgPayoff">Average payoffs</option>
			<option value="deathRatio">Fraction of agents that died</option>
			<option value="repRatio">Fraction of agents that reproduced</option>
			<option value="moveRatio">Fraction of agents that moved</option>
			<option value="moves"> Number of agents that moved</option>
			<option value="reps"> Number of agents that reproduced</option>
			<option value="deaths"> Number of agents that died</option>
			<option value="age"> Average agent age</option>
			<option value="budget">Average agent budget</option>
		</select>
		</p>
	</div>
	<div class="grid_6" >
		<div class="graph"id="ActionGraph">Here be graphs.</div>
	</div>
	<div class="grid_6">
		<div class="graph"id="LifeGraph">Here be graphs.</div>
	</div>
</div>	
</body>
</html>